FROM eclipse-temurin:17-jdk-alpine

ADD . /usr/src/axreng
WORKDIR /usr/src/axreng
ENV BASE_URL=http://hiring.axreng.com/
EXPOSE 4567
CMD java -DBASE_URL=${BASE_URL} -cp "/usr/src/axreng/target/dependency/junit-jupiter-api-5.6.2.jar:/usr/src/axreng/target/dependency/apiguardian-api-1.1.0.jar:/usr/src/axreng/target/dependency/byte-buddy-1.10.13.jar:/usr/src/axreng/target/dependency/byte-buddy-agent-1.10.13.jar:/usr/src/axreng/target/dependency/gson-2.8.6.jar:/usr/src/axreng/target/dependency/hamcrest-2.2.jar:/usr/src/axreng/target/dependency/javax.servlet-api-3.1.0.jar:/usr/src/axreng/target/dependency/jetty-client-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/jetty-http-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/jetty-io-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/jetty-security-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/jetty-server-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/jetty-servlet-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/jetty-util-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/jetty-webapp-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/jetty-xml-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/junit-jupiter-5.6.2.jar:/usr/src/axreng/target/dependency/junit-jupiter-engine-5.6.2.jar:/usr/src/axreng/target/dependency/junit-jupiter-params-5.6.2.jar:/usr/src/axreng/target/dependency/junit-platform-commons-1.6.2.jar:/usr/src/axreng/target/dependency/junit-platform-engine-1.6.2.jar:/usr/src/axreng/target/dependency/mockito-core-3.5.7.jar:/usr/src/axreng/target/dependency/objenesis-3.1.jar:/usr/src/axreng/target/dependency/opentest4j-1.2.0.jar:/usr/src/axreng/target/dependency/slf4j-api-1.7.25.jar:/usr/src/axreng/target/dependency/slf4j-simple-1.7.30.jar:/usr/src/axreng/target/dependency/spark-core-2.9.2.jar:/usr/src/axreng/target/dependency/websocket-api-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/websocket-client-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/websocket-common-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/websocket-server-9.4.30.v20200611.jar:/usr/src/axreng/target/dependency/websocket-servlet-9.4.30.v20200611.jar:/usr/src/axreng/target/backend-test-1.0-SNAPSHOT.jar" com.axreng.backend.Main

